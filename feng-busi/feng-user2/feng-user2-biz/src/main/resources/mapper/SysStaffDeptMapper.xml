<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="work.metanet.feng.admin.mapper.SysStaffDeptMapper">

    <!-- 结果集 -->
    <resultMap type="work.metanet.feng.admin.api.entity.SysStaffDept" id="SysStaffDeptMap">
        <result property="staffId" column="staff_id"/>
        <result property="departmentId" column="department_id"/>
    </resultMap>

    <!-- 基本字段 -->
    <sql id="Base_Column_List">staff_id
    , department_id</sql>
    <select id="getDeptsByStaffNo" resultType="work.metanet.feng.admin.api.entity.SysDepartment">
        SELECT sd.*
        FROM sys_staff_dept AS spd,
             sys_department AS sd
        WHERE spd.department_id = sd.id
          AND spd.staff_id = #{staffId}
    </select>
</mapper>
